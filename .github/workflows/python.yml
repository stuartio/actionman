name: test-python
on: 
  push:
    branches:
      - main
    paths:
      - '**.py'
  workflow_dispatch:

env:
  # Setting an environment variable with the value of a configuration variable
  ACCOUNT_KEY: ${{ vars.ACCOUNT_KEY }}

jobs:
  execute:
    runs-on: ubuntu-latest
    strategy:
        matrix:
          python-version: ["3.12"]
  
    steps:
    - uses: actions/checkout@v4
    - name: Set up Python ${{ matrix.python-version }}
      uses: actions/setup-python@v4
      with:
        python-version: ${{ matrix.python-version }}
    - name: Run script.py
      run: python script.py --akamai_host ${{ secrets.akamai_host }} --akamai_client_token ${{ secrets.akamai_client_token }} --akamai_access_token ${{ secrets.akamai_access_token }} --akamai_client_secret ${{ secrets.akamai_client_secret }}